; ============================================================================
;	функции выравнивания 32-разрядных значений по степени двойки
; 	last change :: 09.10.2007
;	by Synth
; ============================================================================



; ============================================================================================	
; in			:  eax - выравниваемое значение
; 			:  edx - значение, на которое выровнять
; out		:  eax - выравненное вверх значение
; action		:  выравнивает eax вверх по edx
; changes	:  eax
align_up proc
		push	edx
		
		dec 	edx
		add 	eax, edx
		not 	edx
		and 	eax, edx
		
		pop		edx
		ret			
align_up endp
; ============================================================================================	





; ============================================================================================	
; in			:  eax - выравниваемое значение
; 			:  edx - значение, на которое выровнять
; out		:  eax - выравненное вниз значение
; action		:  выравнивает eax вниз по edx
; changes	:  eax
align_down	proc
	push	edx

	dec		edx
	not		edx
	and		eax, edx

	pop		edx
	ret		
align_down	endp
; ============================================================================================